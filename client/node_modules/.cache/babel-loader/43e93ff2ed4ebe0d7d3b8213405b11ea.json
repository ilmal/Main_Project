{"ast":null,"code":"import { fetchUserData, checkUserAuth, createMcConfig, serverPodsInfo, serverSVCInfo, serverInfo, getQuaryParams, getCookies, productInfo } from \"../redux/actions/index\";\nimport { store } from \"..\"; // see attached link: https://stackoverflow.com/questions/50924814/node-js-wait-for-multiple-async-calls-to-finish-before-continuing-in-code\n\nexport default (async () => {\n  store.dispatch(checkUserAuth);\n  store.dispatch(getQuaryParams);\n  store.dispatch(productInfo);\n  await store.dispatch(getCookies);\n\n  if (store.getState().cookies.userID !== undefined && store.getState().cookies.userID !== \"\") {\n    // cheking if user is logged in\n    await store.dispatch(fetchUserData);\n\n    if (store.getState().user.past_servers.length > 0) {\n      // cheking if user have/ had a server\n      store.dispatch(createMcConfig);\n      store.dispatch(serverPodsInfo);\n      store.dispatch(serverSVCInfo);\n      store.dispatch(serverInfo);\n    }\n  }\n\n  console.log(\"data after fetch func: \", store.getState()); // check if loginReset is true, if case, resetting cookies\n\n  if (store.getState().resetLogin) {\n    const cookieKey = [\"loginAuth\", \"userID\"];\n    cookieKey.forEach(element => {\n      document.cookie = `${element}=;path=/;expires=Thu, 01 Jan 1970T00:00:00Z;`;\n    });\n    store.dispatch({\n      type: \"AUTH_SUCCESS\",\n      payload: {\n        auth: store.getState().auth,\n        resetLogin: false\n      }\n    });\n  }\n});","map":{"version":3,"sources":["/home/main-pc/programing/main_Project/client/src/components/loadBaseData.jsx"],"names":["fetchUserData","checkUserAuth","createMcConfig","serverPodsInfo","serverSVCInfo","serverInfo","getQuaryParams","getCookies","productInfo","store","dispatch","getState","cookies","userID","undefined","user","past_servers","length","console","log","resetLogin","cookieKey","forEach","element","document","cookie","type","payload","auth"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,aAAxB,EAAuCC,cAAvC,EAAuDC,cAAvD,EAAuEC,aAAvE,EAAsFC,UAAtF,EAAkGC,cAAlG,EAAkHC,UAAlH,EAA8HC,WAA9H,QAAiJ,wBAAjJ;AACA,SAASC,KAAT,QAAsB,IAAtB,C,CAEA;;AAEA,gBAAe,YAAY;AACvBA,EAAAA,KAAK,CAACC,QAAN,CAAeT,aAAf;AACAQ,EAAAA,KAAK,CAACC,QAAN,CAAeJ,cAAf;AACAG,EAAAA,KAAK,CAACC,QAAN,CAAeF,WAAf;AACA,QAAMC,KAAK,CAACC,QAAN,CAAeH,UAAf,CAAN;;AACA,MAAIE,KAAK,CAACE,QAAN,GAAiBC,OAAjB,CAAyBC,MAAzB,KAAoCC,SAApC,IAAiDL,KAAK,CAACE,QAAN,GAAiBC,OAAjB,CAAyBC,MAAzB,KAAoC,EAAzF,EAA6F;AAAE;AAC3F,UAAMJ,KAAK,CAACC,QAAN,CAAeV,aAAf,CAAN;;AACA,QAAIS,KAAK,CAACE,QAAN,GAAiBI,IAAjB,CAAsBC,YAAtB,CAAmCC,MAAnC,GAA4C,CAAhD,EAAmD;AAAE;AACjDR,MAAAA,KAAK,CAACC,QAAN,CAAeR,cAAf;AACAO,MAAAA,KAAK,CAACC,QAAN,CAAeP,cAAf;AACAM,MAAAA,KAAK,CAACC,QAAN,CAAeN,aAAf;AACAK,MAAAA,KAAK,CAACC,QAAN,CAAeL,UAAf;AACH;AACJ;;AACDa,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCV,KAAK,CAACE,QAAN,EAAvC,EAduB,CAgBvB;;AACA,MAAIF,KAAK,CAACE,QAAN,GAAiBS,UAArB,EAAiC;AAC7B,UAAMC,SAAS,GAAG,CAAC,WAAD,EAAc,QAAd,CAAlB;AACAA,IAAAA,SAAS,CAACC,OAAV,CAAkBC,OAAO,IAAI;AACzBC,MAAAA,QAAQ,CAACC,MAAT,GAAmB,GAAEF,OAAQ,8CAA7B;AACH,KAFD;AAGAd,IAAAA,KAAK,CAACC,QAAN,CAAe;AACXgB,MAAAA,IAAI,EAAE,cADK;AAEXC,MAAAA,OAAO,EAAE;AACLC,QAAAA,IAAI,EAAEnB,KAAK,CAACE,QAAN,GAAiBiB,IADlB;AAELR,QAAAA,UAAU,EAAE;AAFP;AAFE,KAAf;AAOH;AAEJ,CA/BD","sourcesContent":["import { fetchUserData, checkUserAuth, createMcConfig, serverPodsInfo, serverSVCInfo, serverInfo, getQuaryParams, getCookies, productInfo } from \"../redux/actions/index\"\nimport { store } from \"..\"\n\n// see attached link: https://stackoverflow.com/questions/50924814/node-js-wait-for-multiple-async-calls-to-finish-before-continuing-in-code\n\nexport default async () => {\n    store.dispatch(checkUserAuth)\n    store.dispatch(getQuaryParams)\n    store.dispatch(productInfo)\n    await store.dispatch(getCookies)\n    if (store.getState().cookies.userID !== undefined && store.getState().cookies.userID !== \"\") { // cheking if user is logged in\n        await store.dispatch(fetchUserData)\n        if (store.getState().user.past_servers.length > 0) { // cheking if user have/ had a server\n            store.dispatch(createMcConfig)\n            store.dispatch(serverPodsInfo)\n            store.dispatch(serverSVCInfo)\n            store.dispatch(serverInfo)\n        }\n    }\n    console.log(\"data after fetch func: \", store.getState())\n\n    // check if loginReset is true, if case, resetting cookies\n    if (store.getState().resetLogin) {\n        const cookieKey = [\"loginAuth\", \"userID\"]\n        cookieKey.forEach(element => {\n            document.cookie = `${element}=;path=/;expires=Thu, 01 Jan 1970T00:00:00Z;`\n        })\n        store.dispatch({\n            type: \"AUTH_SUCCESS\",\n            payload: {\n                auth: store.getState().auth,\n                resetLogin: false\n            }\n        })\n    }\n\n}"]},"metadata":{},"sourceType":"module"}