{"ast":null,"code":"var _jsxFileName = \"/home/main-pc/programing/main_Project/client/src/components/userHome/server.jsx\",\n    _s = $RefreshSig$();\n\nimport ChangeServerConfig from \"./server/changeServerConfig\";\nimport LogsComponent from \"./server/logsComponent\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ReactTooltip from 'react-tooltip';\nimport { store } from \"../../index\";\nimport { serverPodsInfo } from \"../../redux/actions\";\nimport refreshData from \"./server/refreshData\";\nimport StartStop from \"./server/startStop\";\nimport PlayTimeComponent from \"./server/playTime\";\nimport TimeUpdate from \"./server/timeUpdate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Server = () => {\n  _s();\n\n  const [userData, updateUserData] = useState(store.getState());\n  const [initialLoad, setInitialLoad] = useState(true);\n  const [showLandingPage, setShowLandingPage] = useState(true);\n  const history = useHistory();\n  store.subscribe(() => {\n    updateUserData(store.getState());\n  });\n  useEffect(() => {\n    // refresh logs if status isn't \"server not running\"\n    if (store.getState().serverPods.status != \"server not running\") {\n      const interval = setInterval(() => {\n        // updating logs\n        store.dispatch(serverPodsInfo); // updating plsytime left needs: timeReset, store, userData\n\n        TimeUpdate(false, store, userData);\n      }, 5000);\n      return () => clearInterval(interval);\n    }\n  }, [userData]);\n  useEffect(() => {\n    if (initialLoad) {\n      store.dispatch(serverPodsInfo);\n      TimeUpdate(false, store, userData);\n      setInitialLoad(false);\n    }\n  }, [initialLoad]);\n\n  const serverStatus = e => {\n    switch (userData.serverPods.status) {\n      case \"True\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"runningDiv defaultDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"running\",\n            children: \"Running\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 16\n        }, this);\n\n      case \"False\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"closingDiv defaultDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"closing\",\n            children: \"Shutting Down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 16\n        }, this);\n\n      case \"Pending\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"closingDiv defaultDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"closing\",\n            children: \"Starting up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 16\n        }, this);\n\n      case \"Queuing\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"closingDiv defaultDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"closing\",\n            children: \"Queuing for server\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 16\n        }, this);\n\n      case \"server not running\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"closedDiv defaultDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"closed\",\n            children: \"Not Running\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }, this);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"closedDiv defaultDiv\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"closed\",\n            children: \"ERROR OCCURED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 54\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  const serverIP = () => {\n    if (userData.serverPods.status !== \"server not running\") {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"mc.servers.u1.se:\", userData.serverSVC.port]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"----\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  const copyText = e => {\n    navigator.clipboard.writeText(e.target.innerText);\n  };\n\n  const refreshDataFunc = e => {\n    refreshData(e, store, userData);\n  };\n\n  const startStopFunc = e => {\n    StartStop(e.target.id, store);\n  };\n\n  const landingPageFunc = () => {\n    let returnArray = [];\n\n    const positionCalculator = () => {\n      let start, end;\n      start = 2 * returnArray.length + 2;\n      return {\n        gridColumn: \"3/7\",\n        gridRow: start + \"/\" + end\n      };\n    }; //template for the server block showing servers\n\n\n    const serverBlock = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userHomeServerBlockMainContainer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n\n    returnArray.push(serverBlock); // the text block shown at the end of the server list\n\n    const redirectTextBlock = /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        gridColumn: \"3/7\",\n        gridRow: \"4/5\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"userHomeServerBlockSpecialText\",\n        children: [\"Need a server? Head on over to the \", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => {\n            history.push(\"/\");\n            window.location.reload();\n          },\n          children: \" MAIN PAGE \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 93\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n\n    returnArray.push(redirectTextBlock); // for (let i = 0; i < 100; i++) {\n    //   returnArray.push(serverBlock)\n    // }\n\n    return returnArray;\n  }; // showing start page with server panel where user chooses server and or is redirected to buy server\n\n\n  if (showLandingPage) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"userHomeLandingPageHeader\",\n        children: \"Select your server\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), landingPageFunc(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userHomeLandingPageMainContainer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } // check for user auth, if case show page, else send to main page\n\n\n  if (document.cookie.search(\"loginAuth\") > -1) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userHomeServerName\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: userData.env[4].value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userHomeSegment userHomeStatusOfServer\",\n        children: [serverStatus(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkStatus fas fa-sync\",\n          onClick: refreshDataFunc,\n          \"data-tip\": true,\n          \"data-for\": \"refreshInfo\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Check Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userHomeSegment suerhomeStartStopServer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"innerDivStart\",\n          id: \"startServer\",\n          onClick: startStopFunc,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"userHomestart\",\n            children: \"Start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"innerDivStop\",\n          id: \"stopServer\",\n          onClick: startStopFunc,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"userHomestop\",\n            children: \"Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"random23894723\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userHomeLineBetweenStartStop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userHomeSegment userHomeIpAdress\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Server IP:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          \"data-tip\": true,\n          \"data-for\": \"copyServerAddress\",\n          onClick: copyText,\n          children: serverIP()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChangeServerConfig, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LogsComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PlayTimeComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactTooltip, {\n        id: \"copyServerAddress\",\n        delayShow: 100,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Click to copy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactTooltip, {\n        id: \"playtimeleft\",\n        place: \"top\",\n        delayShow: 20,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"play time remaining\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else {\n    console.log(\"User no auth\");\n    history.push(\"/\");\n    return null;\n  }\n};\n\n_s(Server, \"s+NROjn3gAfc+z/8PqH5H/qfJlQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = Server;\nexport default Server;\n\nvar _c;\n\n$RefreshReg$(_c, \"Server\");","map":{"version":3,"sources":["/home/main-pc/programing/main_Project/client/src/components/userHome/server.jsx"],"names":["ChangeServerConfig","LogsComponent","useState","useEffect","useHistory","ReactTooltip","store","serverPodsInfo","refreshData","StartStop","PlayTimeComponent","TimeUpdate","Server","userData","updateUserData","getState","initialLoad","setInitialLoad","showLandingPage","setShowLandingPage","history","subscribe","serverPods","status","interval","setInterval","dispatch","clearInterval","serverStatus","e","serverIP","serverSVC","port","copyText","navigator","clipboard","writeText","target","innerText","refreshDataFunc","startStopFunc","id","landingPageFunc","returnArray","positionCalculator","start","end","length","gridColumn","gridRow","serverBlock","push","redirectTextBlock","window","location","reload","document","cookie","search","env","value","console","log"],"mappings":"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","sourcesContent":["import ChangeServerConfig from \"./server/changeServerConfig\";\nimport LogsComponent from \"./server/logsComponent\"\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ReactTooltip from 'react-tooltip';\n\nimport { store } from \"../../index\";\nimport { serverPodsInfo } from \"../../redux/actions\"\n\nimport refreshData from \"./server/refreshData\";\nimport StartStop from \"./server/startStop\";\nimport PlayTimeComponent from \"./server/playTime\";\nimport TimeUpdate from \"./server/timeUpdate\";\n\n\nconst Server = () => {\n  const [userData, updateUserData] = useState(store.getState());\n  const [initialLoad, setInitialLoad] = useState(true)\n  const [showLandingPage, setShowLandingPage] = useState(true)\n\n  const history = useHistory();\n\n  store.subscribe(() => {\n    updateUserData(store.getState());\n  });\n\n  useEffect(() => {\n    // refresh logs if status isn't \"server not running\"\n    if (store.getState().serverPods.status != \"server not running\") {\n      const interval = setInterval(() => {\n\n        // updating logs\n        store.dispatch(serverPodsInfo)\n        // updating plsytime left needs: timeReset, store, userData\n        TimeUpdate(false, store, userData)\n      }, 5000);\n      return () => clearInterval(interval);\n    }\n  }, [userData])\n\n  useEffect(() => {\n    if (initialLoad) {\n      store.dispatch(serverPodsInfo)\n      TimeUpdate(false, store, userData)\n      setInitialLoad(false)\n    }\n  }, [initialLoad])\n\n\n\n  const serverStatus = (e) => {\n    switch (userData.serverPods.status) {\n      case \"True\":\n        return <div className=\"runningDiv defaultDiv\"><p className=\"running\">Running</p></div>\n      case \"False\":\n        return <div className=\"closingDiv defaultDiv\"><p className=\"closing\">Shutting Down</p></div>\n      case \"Pending\":\n        return <div className=\"closingDiv defaultDiv\"><p className=\"closing\">Starting up</p></div>\n      case \"Queuing\":\n        return <div className=\"closingDiv defaultDiv\"><p className=\"closing\">Queuing for server</p></div>\n      case \"server not running\":\n        return <div className=\"closedDiv defaultDiv\"><p className=\"closed\">Not Running</p></div>\n      default:\n        return <div className=\"closedDiv defaultDiv\"><p className=\"closed\">ERROR OCCURED</p></div>\n    }\n  }\n  const serverIP = () => {\n    if (userData.serverPods.status !== \"server not running\") {\n      return <span>mc.servers.u1.se:{userData.serverSVC.port}</span>\n    } else {\n      return <span>----</span>\n    }\n  }\n\n  const copyText = (e) => {\n    navigator.clipboard.writeText(e.target.innerText)\n  }\n\n  const refreshDataFunc = (e) => {\n    refreshData(e, store, userData)\n  }\n\n  const startStopFunc = (e) => {\n    StartStop(e.target.id, store)\n  }\n\n\n  const landingPageFunc = () => {\n    let returnArray = []\n\n    const positionCalculator = () => {\n      let start, end\n\n      start = (2 * returnArray.length) + 2\n\n      return ({\n        gridColumn: \"3/7\",\n        gridRow: start + \"/\" + end\n      })\n    }\n\n    //template for the server block showing servers\n    const serverBlock = (\n      <div className=\"userHomeServerBlockMainContainer\">\n\n      </div>\n    )\n    returnArray.push(serverBlock)\n    // the text block shown at the end of the server list\n    const redirectTextBlock = (\n      <div style={{ gridColumn: \"3/7\", gridRow: \"4/5\" }}>\n        <span className=\"userHomeServerBlockSpecialText\">Need a server? Head on over to the <span onClick={() => { history.push(\"/\"); window.location.reload() }}> MAIN PAGE </span></span>\n      </div>\n    )\n    returnArray.push(redirectTextBlock)\n\n    // for (let i = 0; i < 100; i++) {\n    //   returnArray.push(serverBlock)\n    // }\n\n    return returnArray\n  }\n\n  // showing start page with server panel where user chooses server and or is redirected to buy server\n  if (showLandingPage) {\n    return (\n      <>\n        <span className=\"userHomeLandingPageHeader\">Select your server</span>\n        {\n          landingPageFunc()\n        }\n\n\n        <div className=\"userHomeLandingPageMainContainer\">\n\n        </div>\n      </>\n\n    )\n  }\n\n  // check for user auth, if case show page, else send to main page\n  if (document.cookie.search(\"loginAuth\") > -1) {\n    return (\n      <>\n        <div className=\"userHomeServerName\">\n          <span>{userData.env[4].value}</span>\n        </div>\n        <div className=\"userHomeSegment userHomeStatusOfServer\">\n          {serverStatus()}\n          <div className=\"checkStatus fas fa-sync\" onClick={refreshDataFunc} data-tip data-for=\"refreshInfo\">\n            <span>Check Status</span>\n          </div>\n        </div>\n        <div className=\"userHomeSegment suerhomeStartStopServer\">\n          <div className=\"innerDivStart\" id=\"startServer\" onClick={startStopFunc}>\n            <span className=\"userHomestart\">Start</span>\n          </div>\n          <div className=\"innerDivStop\" id=\"stopServer\" onClick={startStopFunc}>\n            <span className=\"userHomestop\">Stop</span>\n          </div>\n          <div id=\"random23894723\">\n            <div className=\"userHomeLineBetweenStartStop\" />\n          </div>\n        </div>\n        <div className=\"userHomeSegment userHomeIpAdress\">\n          <p>Server IP:</p>\n          <span data-tip data-for=\"copyServerAddress\" onClick={copyText}>{serverIP()}</span>\n        </div>\n\n        <ChangeServerConfig />\n        <LogsComponent />\n        <PlayTimeComponent />\n\n        <ReactTooltip id=\"copyServerAddress\" delayShow={100}>\n          <p>Click to copy</p>\n        </ReactTooltip>\n        <ReactTooltip id=\"playtimeleft\" place=\"top\" delayShow={20}>\n          <p>play time remaining</p>\n        </ReactTooltip>\n      </>\n    );\n  } else {\n    console.log(\"User no auth\")\n    history.push(\"/\");\n    return null;\n  }\n};\n\nexport default Server;\n"]},"metadata":{},"sourceType":"module"}