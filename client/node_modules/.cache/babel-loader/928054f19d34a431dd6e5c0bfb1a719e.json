{"ast":null,"code":"import _regeneratorRuntime from\"/home/main-pc/programing/react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/main-pc/programing/react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{authSucess,createMcConfig}from\"../redux/actions/index\";import{store}from\"../index\";import ReactTooltip from'react-tooltip';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var history=useHistory();ReactTooltip.rebuild();var sendData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"name: \",data.target.name.value,\"pass: \",data.target.password.value);data.preventDefault();axios.defaults.withCredentials=true;_context.next=5;return axios.post(\"http://192.168.1.247:3001/api/user/login\",{withCredentials:true,name:data.target.name.value,password:data.target.password.value}).then(function(response){if(response.data===\"success\"){store.dispatch(authSucess);console.log(\"1\",store.getState().auth);create();//window.location.reload()\n}else{console.log(response.data);ReactTooltip.show(\"test\");store.dispatch({type:\"ERR_MESSAGE\",payload:response.data});}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function sendData(_x){return _ref.apply(this,arguments);};}();var create=function create(){store.dispatch(createMcConfig);};var toSignup=function toSignup(){history.push(\"/user/signup\");window.location.reload();};return/*#__PURE__*/_jsx(\"div\",{className:\"loginMainBody\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginBody\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signUpContainerHeader\",children:/*#__PURE__*/_jsx(\"span\",{children:\"LOGIN\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendData,method:\"POST\",className:\"loginCenterInnerContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"loginInput\",autoComplete:\"off\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"loginLable\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loginLableValue\",\"data-tip\":\"test\",children:\"Name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"loginInput\",autoComplete:\"off\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"loginLable\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loginLableValue\",children:\"Password\"})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"loginButton\",children:\"submit\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"loginSignUp\",onClick:toSignup,children:\"First time? Sign up!\"})]})});};export default LoginPage;","map":{"version":3,"sources":["/home/main-pc/programing/react/client/src/pages/login.jsx"],"names":["axios","authSucess","createMcConfig","store","ReactTooltip","useHistory","LoginPage","history","rebuild","sendData","data","console","log","target","name","value","password","preventDefault","defaults","withCredentials","post","then","response","dispatch","getState","auth","create","show","type","payload","toSignup","push","window","location","reload"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { authSucess, createMcConfig } from \"../redux/actions/index\"\nimport { store } from \"../index\"\nimport ReactTooltip from 'react-tooltip';\nimport { useHistory } from \"react-router-dom\";\n\nconst LoginPage = () => {\n\n    const history = useHistory();\n\n    ReactTooltip.rebuild()\n\n    const sendData = async (data) => {\n        console.log(\"name: \", data.target.name.value, \"pass: \", data.target.password.value)\n        data.preventDefault()\n        axios.defaults.withCredentials = true\n        await axios.post(\"http://192.168.1.247:3001/api/user/login\", {\n            withCredentials: true,\n            name: data.target.name.value,\n            password: data.target.password.value\n        }).then(response => {\n            if (response.data === \"success\") {\n                store.dispatch(authSucess)\n                console.log(\"1\", store.getState().auth)\n                create()\n                //window.location.reload()\n            } else {\n                console.log(response.data)\n                ReactTooltip.show(\"test\")\n                store.dispatch({\n                    type: \"ERR_MESSAGE\",\n                    payload: response.data\n                })\n            }\n        })\n    }\n\n    const create = () => {\n        store.dispatch(createMcConfig)\n    }\n\n    const toSignup = () => {\n        history.push(\"/user/signup\");\n        window.location.reload();\n    }\n\n    return (\n        <div className=\"loginMainBody\">\n            <div className=\"loginBody\">\n                <div className=\"signUpContainerHeader\">\n                    <span>LOGIN</span>\n                </div>\n                <form onSubmit={sendData} method=\"POST\" className=\"loginCenterInnerContainer\">\n                    <div className=\"loginForm\">\n                        <input type=\"text\" name=\"name\" className=\"loginInput\" autoComplete=\"off\" required />\n                        <label className=\"loginLable\">\n                            <span className=\"loginLableValue\" data-tip='test'>Name</span>\n                        </label>\n                    </div>\n                    <div className=\"loginForm\">\n                        <input type=\"password\" name=\"password\" className=\"loginInput\" autoComplete=\"off\" required />\n                        <label className=\"loginLable\">\n                            <span className=\"loginLableValue\">Password</span>\n                        </label>\n                    </div>\n                    <button type=\"submit\" className=\"loginButton\">submit</button>\n                </form>\n                <span className=\"loginSignUp\" onClick={toSignup}>First time? Sign up!</span>\n            </div>\n        </div >\n    );\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}