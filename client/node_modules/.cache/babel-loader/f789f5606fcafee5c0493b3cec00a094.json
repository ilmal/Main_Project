{"ast":null,"code":"import _slicedToArray from\"/home/main-pc/programing/react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import ChangeServerConfig from\"./changeServerConfig\";import{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import ReactTooltip from'react-tooltip';import{store}from\"../../index\";import{fetchUserData,serverPodsInfo,serverSVCInfo,mcConfGetData}from\"../../redux/actions\";import{startServer,stopServer}from\"../../redux/actions/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Server=function Server(){var _useState=useState(store.getState()),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],updateUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),logsExpand=_useState4[0],setLogsExpand=_useState4[1];var history=useHistory();store.subscribe(function(){updateUserData(store.getState());});useEffect(function(){var ele=document.getElementById('logsText');ele.scrollTop=ele.scrollHeight;if(store.getState().serverPods.status!=\"server not running\"){var interval=setInterval(function(){store.dispatch(serverPodsInfo);},5000);return function(){return clearInterval(interval);};}},[userData]);useEffect(function(){var ele=document.getElementById('logsText');ele.style.cursor='grab';var pos={top:0,left:0,x:0,y:0};var mouseDownHandler=function mouseDownHandler(e){ele.style.cursor='grabbing';ele.style.userSelect='none';pos={left:ele.scrollLeft,top:ele.scrollTop,// Get the current mouse position\nx:e.clientX,y:e.clientY};document.addEventListener('mousemove',mouseMoveHandler);document.addEventListener('mouseup',mouseUpHandler);};var mouseMoveHandler=function mouseMoveHandler(e){// How far the mouse has been moved\nvar dx=e.clientX-pos.x;var dy=e.clientY-pos.y;// Scroll the element\nele.scrollTop=pos.top-dy;ele.scrollLeft=pos.left-dx;};var mouseUpHandler=function mouseUpHandler(){ele.style.cursor='grab';ele.style.removeProperty('user-select');document.removeEventListener('mousemove',mouseMoveHandler);document.removeEventListener('mouseup',mouseUpHandler);};// Attach the handler\nele.addEventListener('mousedown',mouseDownHandler);},[]);var startStop=function startStop(e){if(e.target.className===\"innerDivStart\"){console.log(\"u said start?\");store.dispatch(startServer);store.dispatch({type:\"MESSAGE\",payload:\"Server starting up!\"});}else if(e.target.className===\"innerDivStop\"){console.log(\"u said stop?\");store.dispatch(stopServer);store.dispatch({type:\"MESSAGE\",payload:\"Server shutting down!\"});}};var serverStatus=function serverStatus(e){switch(userData.serverPods.status){case\"True\":return/*#__PURE__*/_jsx(\"div\",{className:\"runningDiv defaultDiv\",children:/*#__PURE__*/_jsx(\"p\",{className:\"running\",children:\"Running\"})});case\"False\":return/*#__PURE__*/_jsx(\"div\",{className:\"closingDiv defaultDiv\",children:/*#__PURE__*/_jsx(\"p\",{className:\"closing\",children:\"Shutting Down\"})});case\"Pending\":return/*#__PURE__*/_jsx(\"div\",{className:\"closingDiv defaultDiv\",children:/*#__PURE__*/_jsx(\"p\",{className:\"closing\",children:\"Starting up\"})});case\"server not running\":return/*#__PURE__*/_jsx(\"div\",{className:\"closedDiv defaultDiv\",children:/*#__PURE__*/_jsx(\"p\",{className:\"closed\",children:\"Not Running\"})});default:return/*#__PURE__*/_jsx(\"div\",{className:\"closedDiv defaultDiv\",children:/*#__PURE__*/_jsx(\"p\",{className:\"closed\",children:\"ERROR OCCURED\"})});}};var serverIP=function serverIP(){if(userData.serverPods.status!==\"server not running\"){return/*#__PURE__*/_jsxs(\"span\",{children:[\"nils.u1.se:\",userData.serverSVC.port]});}else{return/*#__PURE__*/_jsx(\"span\",{children:\"----\"});}};var refreshData=function refreshData(e){store.dispatch(fetchUserData);store.dispatch(serverPodsInfo);store.dispatch(serverSVCInfo);store.dispatch(mcConfGetData);console.log(e.target.className);document.getElementById(e.target.id).classList.add(\"spinAnimation\");setTimeout(function(){document.getElementById(e.target.id).classList.remove(\"spinAnimation\");},1000);console.log(userData.serverPods.logs);};var expandLogs=function expandLogs(){setLogsExpand(!logsExpand);console.log(\"This is the logsExpand function; \",logsExpand);};var copyText=function copyText(e){navigator.clipboard.writeText(e.target.innerText);};if(document.cookie.search(\"loginAuth\")>-1){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"userHomeServerName\",children:/*#__PURE__*/_jsx(\"span\",{children:userData.env[4].value})}),/*#__PURE__*/_jsxs(\"div\",{className:\"userHomeSegment userHomeStatusOfServer\",children:[serverStatus(),/*#__PURE__*/_jsx(\"div\",{className:\"checkStatus fas fa-sync\",id:\"checkStatus\",onClick:refreshData,\"data-tip\":true,\"data-for\":\"refreshInfo\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Check Status\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"userHomeSegment suerhomeStartStopServer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"innerDivStart\",onClick:startStop,children:/*#__PURE__*/_jsx(\"span\",{className:\"userHomestart\",children:\"Start\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"innerDivStop\",onClick:startStop,children:/*#__PURE__*/_jsx(\"span\",{className:\"userHomestop\",children:\"Stop\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"random23894723\",children:/*#__PURE__*/_jsx(\"div\",{className:\"userHomeLineBetweenStartStop\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"userHomeSegment userHomeIpAdress\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Server Adress:\"}),/*#__PURE__*/_jsx(\"span\",{\"data-tip\":true,\"data-for\":\"copyServerAddress\",onClick:copyText,children:serverIP()})]}),/*#__PURE__*/_jsx(ChangeServerConfig,{}),/*#__PURE__*/_jsxs(\"div\",{className:logsExpand?\"logsMainContainer logsMainContainerExpanded userHomeSegment\":\"logsMainContainer userHomeSegment\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logsExpandArrow fas fa-expand-arrows-alt\",onClick:expandLogs,\"data-tip\":true,\"data-for\":\"expandLogs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logsText\",id:\"logsText\",children:/*#__PURE__*/_jsxs(\"span\",{children:[userData.serverPods.logs,/*#__PURE__*/_jsx(\"p\",{})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"logsTextContainer\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Logs\"}),/*#__PURE__*/_jsx(\"div\",{onClick:refreshData,children:/*#__PURE__*/_jsx(\"div\",{className:\"checkStatus fas fa-sync\",id:\"checkStatus\",\"data-tip\":true,\"data-for\":\"refreshInfo\"})})]})]}),/*#__PURE__*/_jsx(ReactTooltip,{id:\"copyServerAddress\",delayShow:\"100\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Click to copy\"})}),/*#__PURE__*/_jsx(ReactTooltip,{id:\"refreshInfo\",place:\"bottom\",delayShow:\"100\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Click to refresh logs\"})}),/*#__PURE__*/_jsx(ReactTooltip,{id:\"expandLogs\",place:\"bottom\",delayShow:\"100\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Click to expand/minimize logs\"})})]});}else{console.log(\"User no auth\");history.push(\"/\");return null;}};export default Server;","map":{"version":3,"sources":["/home/main-pc/programing/react/client/src/components/userHome/server.jsx"],"names":["ChangeServerConfig","useState","useEffect","useHistory","ReactTooltip","store","fetchUserData","serverPodsInfo","serverSVCInfo","mcConfGetData","startServer","stopServer","Server","getState","userData","updateUserData","logsExpand","setLogsExpand","history","subscribe","ele","document","getElementById","scrollTop","scrollHeight","serverPods","status","interval","setInterval","dispatch","clearInterval","style","cursor","pos","top","left","x","y","mouseDownHandler","e","userSelect","scrollLeft","clientX","clientY","addEventListener","mouseMoveHandler","mouseUpHandler","dx","dy","removeProperty","removeEventListener","startStop","target","className","console","log","type","payload","serverStatus","serverIP","serverSVC","port","refreshData","id","classList","add","setTimeout","remove","logs","expandLogs","copyText","navigator","clipboard","writeText","innerText","cookie","search","env","value","push"],"mappings":"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","sourcesContent":["import ChangeServerConfig from \"./changeServerConfig\";\nimport { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ReactTooltip from 'react-tooltip';\n\nimport { store } from \"../../index\";\nimport { fetchUserData, serverPodsInfo, serverSVCInfo, mcConfGetData } from \"../../redux/actions\"\nimport { startServer, stopServer } from \"../../redux/actions/index\"\n\nconst Server = () => {\n  const [userData, updateUserData] = useState(store.getState());\n  const [logsExpand, setLogsExpand] = useState(false)\n\n  const history = useHistory();\n\n  store.subscribe(() => {\n    updateUserData(store.getState());\n  });\n\n  useEffect(() => {\n    const ele = document.getElementById('logsText');\n    ele.scrollTop = ele.scrollHeight;\n    if (store.getState().serverPods.status != \"server not running\") {\n      const interval = setInterval(() => {\n        store.dispatch(serverPodsInfo)\n      }, 5000);\n      return () => clearInterval(interval);\n    }\n  }, [userData])\n\n  useEffect(() => {\n    const ele = document.getElementById('logsText');\n    ele.style.cursor = 'grab';\n\n    let pos = { top: 0, left: 0, x: 0, y: 0 };\n\n    const mouseDownHandler = function (e) {\n      ele.style.cursor = 'grabbing';\n      ele.style.userSelect = 'none';\n\n      pos = {\n        left: ele.scrollLeft,\n        top: ele.scrollTop,\n        // Get the current mouse position\n        x: e.clientX,\n        y: e.clientY,\n      };\n\n      document.addEventListener('mousemove', mouseMoveHandler);\n      document.addEventListener('mouseup', mouseUpHandler);\n    };\n\n    const mouseMoveHandler = function (e) {\n      // How far the mouse has been moved\n      const dx = e.clientX - pos.x;\n      const dy = e.clientY - pos.y;\n\n      // Scroll the element\n      ele.scrollTop = pos.top - dy;\n      ele.scrollLeft = pos.left - dx;\n    };\n\n    const mouseUpHandler = function () {\n      ele.style.cursor = 'grab';\n      ele.style.removeProperty('user-select');\n\n      document.removeEventListener('mousemove', mouseMoveHandler);\n      document.removeEventListener('mouseup', mouseUpHandler);\n    };\n\n    // Attach the handler\n    ele.addEventListener('mousedown', mouseDownHandler);\n  }, []);\n\n  const startStop = (e) => {\n    if (e.target.className === \"innerDivStart\") {\n      console.log(\"u said start?\")\n      store.dispatch(startServer)\n      store.dispatch({\n        type: \"MESSAGE\",\n        payload: \"Server starting up!\"\n      })\n    } else if (e.target.className === \"innerDivStop\") {\n      console.log(\"u said stop?\")\n      store.dispatch(stopServer)\n      store.dispatch({\n        type: \"MESSAGE\",\n        payload: \"Server shutting down!\"\n      })\n    }\n  }\n\n  const serverStatus = (e) => {\n    switch (userData.serverPods.status) {\n      case \"True\":\n        return <div className=\"runningDiv defaultDiv\"><p className=\"running\">Running</p></div>\n      case \"False\":\n        return <div className=\"closingDiv defaultDiv\"><p className=\"closing\">Shutting Down</p></div>\n      case \"Pending\":\n        return <div className=\"closingDiv defaultDiv\"><p className=\"closing\">Starting up</p></div>\n      case \"server not running\":\n        return <div className=\"closedDiv defaultDiv\"><p className=\"closed\">Not Running</p></div>\n      default:\n        return <div className=\"closedDiv defaultDiv\"><p className=\"closed\">ERROR OCCURED</p></div>\n    }\n  }\n  const serverIP = () => {\n    if (userData.serverPods.status !== \"server not running\") {\n      return <span>nils.u1.se:{userData.serverSVC.port}</span>\n    } else {\n      return <span>----</span>\n    }\n  }\n  const refreshData = (e) => {\n    store.dispatch(fetchUserData)\n    store.dispatch(serverPodsInfo)\n    store.dispatch(serverSVCInfo)\n    store.dispatch(mcConfGetData)\n    console.log(e.target.className)\n    document.getElementById(e.target.id).classList.add(\"spinAnimation\")\n    setTimeout(() => {\n      document.getElementById(e.target.id).classList.remove(\"spinAnimation\")\n    }, 1000)\n    console.log(userData.serverPods.logs)\n  }\n\n  const expandLogs = () => {\n    setLogsExpand(!logsExpand)\n    console.log(\"This is the logsExpand function; \", logsExpand)\n  }\n\n  const copyText = (e) => {\n    navigator.clipboard.writeText(e.target.innerText)\n  }\n\n  if (document.cookie.search(\"loginAuth\") > -1) {\n    return (\n      <>\n        <div className=\"userHomeServerName\">\n          <span>{userData.env[4].value}</span>\n        </div>\n        <div className=\"userHomeSegment userHomeStatusOfServer\">\n          {serverStatus()}\n          <div className=\"checkStatus fas fa-sync\" id=\"checkStatus\" onClick={refreshData} data-tip data-for=\"refreshInfo\">\n            <span>Check Status</span>\n          </div>\n        </div>\n        <div className=\"userHomeSegment suerhomeStartStopServer\">\n          <div className=\"innerDivStart\" onClick={startStop}>\n            <span className=\"userHomestart\">Start</span>\n          </div>\n          <div className=\"innerDivStop\" onClick={startStop}>\n            <span className=\"userHomestop\">Stop</span>\n          </div>\n          <div id=\"random23894723\">\n            <div className=\"userHomeLineBetweenStartStop\" />\n          </div>\n        </div>\n        <div className=\"userHomeSegment userHomeIpAdress\">\n          <p>Server Adress:</p>\n          <span data-tip data-for=\"copyServerAddress\" onClick={copyText}>{serverIP()}</span>\n        </div>\n        <ChangeServerConfig />\n        <div className={logsExpand ? \"logsMainContainer logsMainContainerExpanded userHomeSegment\" : \"logsMainContainer userHomeSegment\"}>\n          <div className=\"logsExpandArrow fas fa-expand-arrows-alt\" onClick={expandLogs} data-tip data-for=\"expandLogs\" />\n          <div className=\"logsText\" id=\"logsText\">\n            <span>\n              {userData.serverPods.logs}\n              <p></p>\n            </span>\n          </div>\n          <div className=\"logsTextContainer\">\n            <span>Logs</span>\n            <div onClick={refreshData}>\n              <div className=\"checkStatus fas fa-sync\" id=\"checkStatus\" data-tip data-for=\"refreshInfo\" />\n            </div>\n          </div>\n        </div>\n        <ReactTooltip id=\"copyServerAddress\" delayShow=\"100\">\n          <p>Click to copy</p>\n        </ReactTooltip>\n        <ReactTooltip id=\"refreshInfo\" place=\"bottom\" delayShow=\"100\">\n          <p>Click to refresh logs</p>\n        </ReactTooltip>\n        <ReactTooltip id=\"expandLogs\" place=\"bottom\" delayShow=\"100\">\n          <p>Click to expand/minimize logs</p>\n        </ReactTooltip>\n      </>\n    );\n  } else {\n    console.log(\"User no auth\")\n    history.push(\"/\");\n    return null;\n  }\n};\n\nexport default Server;\n"]},"metadata":{},"sourceType":"module"}