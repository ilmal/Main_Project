{"ast":null,"code":"import _slicedToArray from\"/home/main-pc/programing/react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import SideMenu from\"../components/userHome/sideMenu\";import Server from\"../components/userHome/server\";import Options from\"../components/userHome/options\";import{store}from\"../index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserHomePage=function UserHomePage(){var history=useHistory();var _useState=useState([\"server\"]),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState([store.getState()]),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),didMount=_useState6[0],setDidMount=_useState6[1];useEffect(function(){setDidMount(true);return function(){return setDidMount(false);};},[]);if(!didMount){return null;}store.subscribe(function(){setUserData(store.getState());if(store.getState().auth!==null&&!store.getState().auth){console.log(\"Not logged in\");history.push(\"/\");window.location.reload();}});var changeState=function changeState(data){setPage(data);};var getPage=function getPage(){var component;switch(page){case\"server\":component=/*#__PURE__*/_jsx(Server,{userData:userData});break;case\"options\":component=/*#__PURE__*/_jsx(Options,{userData:userData});break;default:component=/*#__PURE__*/_jsx(Server,{userData:userData});break;}return component;};//auth();\nreturn/*#__PURE__*/_jsxs(\"dir\",{className:\"userHomeLayout\",children:[/*#__PURE__*/_jsx(\"dir\",{className:\"userHomesideMenu\",children:/*#__PURE__*/_jsx(SideMenu,{setState:changeState})}),getPage()]});};export default UserHomePage;","map":{"version":3,"sources":["/home/main-pc/programing/react/client/src/pages/userHome.jsx"],"names":["React","useState","useEffect","useHistory","SideMenu","Server","Options","store","UserHomePage","history","page","setPage","getState","userData","setUserData","didMount","setDidMount","subscribe","auth","console","log","push","window","location","reload","changeState","data","getPage","component"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,iCAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,gCAApB,CAEA,OAASC,KAAT,KAAsB,UAAtB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CACA,cAAwBF,QAAQ,CAAC,CAAC,QAAD,CAAD,CAAhC,wCAAOS,IAAP,eAAaC,OAAb,eACA,eAAgCV,QAAQ,CAAC,CAACM,KAAK,CAACK,QAAN,EAAD,CAAD,CAAxC,yCAAOC,QAAP,eAAiBC,WAAjB,eAEA,eAAgCb,QAAQ,CAAC,KAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eAEAd,SAAS,CAAC,UAAM,CACdc,WAAW,CAAC,IAAD,CAAX,CACA,MAAO,kBAAMA,CAAAA,WAAW,CAAC,KAAD,CAAjB,EAAP,CACD,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAG,CAACD,QAAJ,CAAc,CACZ,MAAO,KAAP,CACD,CAEDR,KAAK,CAACU,SAAN,CAAgB,UAAM,CACpBH,WAAW,CAACP,KAAK,CAACK,QAAN,EAAD,CAAX,CACA,GAAIL,KAAK,CAACK,QAAN,GAAiBM,IAAjB,GAA0B,IAA1B,EAAkC,CAACX,KAAK,CAACK,QAAN,GAAiBM,IAAxD,CAA8D,CAC5DC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAX,OAAO,CAACY,IAAR,CAAa,GAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACF,CAPD,EASA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAU,CAC5Bf,OAAO,CAACe,IAAD,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAIC,CAAAA,SAAJ,CACA,OAAQlB,IAAR,EACE,IAAK,QAAL,CACEkB,SAAS,cAAG,KAAC,MAAD,EAAQ,QAAQ,CAAEf,QAAlB,EAAZ,CACA,MACF,IAAK,SAAL,CACEe,SAAS,cAAG,KAAC,OAAD,EAAS,QAAQ,CAAEf,QAAnB,EAAZ,CACA,MACF,QACEe,SAAS,cAAG,KAAC,MAAD,EAAQ,QAAQ,CAAEf,QAAlB,EAAZ,CACA,MATJ,CAWA,MAAOe,CAAAA,SAAP,CACD,CAdD,CAgBA;AACA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,KAAC,QAAD,EAAU,QAAQ,CAAEH,WAApB,EADF,EADF,CAIGE,OAAO,EAJV,GADF,CAQD,CAtDD,CAwDA,cAAenB,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport SideMenu from \"../components/userHome/sideMenu\";\nimport Server from \"../components/userHome/server\";\nimport Options from \"../components/userHome/options\";\n\nimport { store } from \"../index\";\n\nconst UserHomePage = () => {\n  const history = useHistory();\n  const [page, setPage] = useState([\"server\"]);\n  const [userData, setUserData] = useState([store.getState()]);\n\n  const [didMount, setDidMount] = useState(false); \n\n  useEffect(() => {\n    setDidMount(true);\n    return () => setDidMount(false);\n  }, [])\n\n  if(!didMount) {\n    return null;\n  }\n\n  store.subscribe(() => {\n    setUserData(store.getState());\n    if (store.getState().auth !== null && !store.getState().auth) {\n      console.log(\"Not logged in\");\n      history.push(\"/\");\n      window.location.reload();\n    }\n  });\n\n  const changeState = (data) => {\n    setPage(data);\n  };\n\n  const getPage = () => {\n    let component;\n    switch (page) {\n      case \"server\":\n        component = <Server userData={userData} />;\n        break;\n      case \"options\":\n        component = <Options userData={userData} />;\n        break;\n      default:\n        component = <Server userData={userData} />;\n        break;\n    }\n    return component;\n  };\n\n  //auth();\n  return (\n    <dir className=\"userHomeLayout\">\n      <dir className=\"userHomesideMenu\">\n        <SideMenu setState={changeState} />\n      </dir>\n      {getPage()}\n    </dir>\n  );\n};\n\nexport default UserHomePage;\n"]},"metadata":{},"sourceType":"module"}