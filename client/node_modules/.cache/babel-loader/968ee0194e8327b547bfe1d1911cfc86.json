{"ast":null,"code":"var _jsxFileName = \"/home/main-pc/programing/main_Project/client/src/pages/serverCreate/minecraft/minecraft.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport MinecraftLevels from \"./minecraftLevels\";\nimport store from \"../../../store\";\nimport { availableServerTeirs } from \"../../../redux/actions\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MinecraftCreate = () => {\n  _s();\n\n  const history = useHistory(); //const [isCardPressed, setisCardPressed] = useState(\"not pressed\")\n\n  const [isCardPressed, setisCardPressed] = useState(() => {\n    if (localStorage.getItem(\"isCardPressed\")) return localStorage.getItem(\"isCardPressed\");\n    return \"not pressed\";\n  });\n  useEffect(() => {\n    localStorage.setItem(\"isCardPressed\", isCardPressed);\n  }, [isCardPressed]);\n  useEffect(async () => {\n    await store.dispatch(availableServerTeirs);\n  }, []);\n  const [update, setUpdate] = useState(false);\n  store.subscribe(() => {\n    setUpdate(!update);\n  });\n  useEffect(() => {\n    var _store$getState$query, _store$getState$query2;\n\n    // effect for handling users with an \"_id\" queryparam, this is for renewing past servers\n    // check if user is logged in\n    if (store.getState().user === \"default\" && ((_store$getState$query = store.getState().querySelectors) === null || _store$getState$query === void 0 ? void 0 : _store$getState$query._id)) {\n      history.push(\"/\");\n      window.location.reload();\n    }\n\n    if ((_store$getState$query2 = store.getState().querySelectors) === null || _store$getState$query2 === void 0 ? void 0 : _store$getState$query2._id) return;\n\n    for (let i = 0; i < store.getState().user.past_servers.length; i++) {\n      var _store$getState$query3;\n\n      if (((_store$getState$query3 = store.getState().querySelectors) === null || _store$getState$query3 === void 0 ? void 0 : _store$getState$query3._id) === store.getState().user.past_servers[i].server_id) return setisCardPressed(store.getState().user.past_servers[i].plan.toLowerCase());\n    }\n  }, [update]); // ----------- stripe -------------\n\n  const PUBLIC_KEY = \"pk_test_51JCk7wGWd5hOwkfP4Q7UpN498uJW5oa2q7vb97viqghzRSpqilFLqtCB161iX4LOg68mkwqwHaptGyl0rgaB5NSf0080vAPRe9\";\n  const stripeLoad = loadStripe(PUBLIC_KEY); //---------------------------------\n\n  const landingPageFunc = () => {\n    // element for sold out layout. To use, add this func at the start of the element\n    // also add the className \"serverLandingPageCardSoldOutTemplate\" to the parent element\n    // in future make this automatic, add value in db then extract value and based on that\n    // update the parent ele class and insert this func to the element (future work)\n    const isSoldOut = selectedTeir => {\n      let result = false;\n      if (store.getState().availableServerTeirs === null) return null;\n      Object.keys(store.getState().availableServerTeirs).forEach(teir => {\n        if (teir.toUpperCase() === selectedTeir && !store.getState().availableServerTeirs[teir].value) {\n          result = true;\n        }\n      });\n\n      if (result) {\n        //console.log(\"CLASSNAME: \", document.getElementsByClassName(selectedTeir.toLowerCase()))\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"serverLandingPageCardSoldOutDiv\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"serverLandingPageCardSoldOutBlurDivTop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"serverLandingPageCardSoldOutMiddleDiv\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"serverLandingPageCardSoldOutMiddleDivInner\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Sorry,\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"this server is currently out of stock.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"serverLandingPageCardSoldOutBlurDivBottom\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this);\n      }\n\n      return null;\n    };\n\n    console.log(\"PRODUCT INFO: \", store.getState());\n    const element_array = [];\n    Object.keys(store.getState().productInfo).forEach(element => {\n      element_array.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isSoldOut(element.toUpperCase()) !== null ? \"minecraftCards\" + \" \" + element + \" \" + \"serverLandingPageCardSoldOutTemplate\" : \"minecraftCards\" + \" \" + element,\n        onClick: () => setisCardPressed(element),\n        children: [isSoldOut(element.toUpperCase()), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"titleContainer\" + \" \" + `${element.toLowerCase()}TitleContainer`,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: element.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"priceContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u20AC\", store.getState().productInfo[element].price, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"priceMonth\",\n              children: \"/ month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 78\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"specsContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cpuSpec\",\n            children: \"CPU\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"memSpec\",\n            children: \"MEMORY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cpuSpecValue\",\n            children: [store.getState().productInfo[element].cpu, \" cores\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"memSpecValue\",\n            children: [store.getState().productInfo[element].mem, \"gb\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seperationline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"The basic server is the perfect option for a small group of friends, works great for 3 players\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this));\n    });\n    return element_array;\n  };\n\n  if (isCardPressed !== \"not pressed\") {\n    switch (isCardPressed) {\n      case \"test\":\n        return /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripeLoad,\n          children: /*#__PURE__*/_jsxDEV(MinecraftLevels, {\n            level: \"test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this);\n\n      case \"basic\":\n        return /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripeLoad,\n          children: /*#__PURE__*/_jsxDEV(MinecraftLevels, {\n            level: \"basic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this);\n\n      case \"normal\":\n        return /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripeLoad,\n          children: /*#__PURE__*/_jsxDEV(MinecraftLevels, {\n            level: \"normal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this);\n\n      case \"premium\":\n        return /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripeLoad,\n          children: /*#__PURE__*/_jsxDEV(MinecraftLevels, {\n            level: \"premium\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this);\n\n      default:\n        //window.location.reload();\n        break;\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"minecraftBody\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Choose your Minecraft Server!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: landingPageFunc()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(MinecraftCreate, \"78l2nvip0Hw/YVWdwtXzjDOTTac=\", false, function () {\n  return [useHistory];\n});\n\n_c = MinecraftCreate;\nexport default MinecraftCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"MinecraftCreate\");","map":{"version":3,"sources":["/home/main-pc/programing/main_Project/client/src/pages/serverCreate/minecraft/minecraft.jsx"],"names":["useState","useEffect","loadStripe","Elements","MinecraftLevels","store","availableServerTeirs","useHistory","MinecraftCreate","history","isCardPressed","setisCardPressed","localStorage","getItem","setItem","dispatch","update","setUpdate","subscribe","getState","user","querySelectors","_id","push","window","location","reload","i","past_servers","length","server_id","plan","toLowerCase","PUBLIC_KEY","stripeLoad","landingPageFunc","isSoldOut","selectedTeir","result","Object","keys","forEach","teir","toUpperCase","value","console","log","element_array","productInfo","element","price","cpu","mem"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\"\n\nimport MinecraftLevels from \"./minecraftLevels\"\nimport store from \"../../../store\";\nimport { availableServerTeirs } from \"../../../redux/actions\"\nimport { useHistory } from \"react-router-dom\";\n\nconst MinecraftCreate = () => {\n\n    const history = useHistory()\n\n    //const [isCardPressed, setisCardPressed] = useState(\"not pressed\")\n    const [isCardPressed, setisCardPressed] = useState(() => {\n        if (localStorage.getItem(\"isCardPressed\")) return localStorage.getItem(\"isCardPressed\")\n        return \"not pressed\"\n    })\n\n    useEffect(() => {\n        localStorage.setItem(\"isCardPressed\", isCardPressed)\n    }, [isCardPressed])\n\n    useEffect(async () => {\n        await store.dispatch(availableServerTeirs)\n    }, [])\n\n    const [update, setUpdate] = useState(false)\n\n    store.subscribe(() => {\n        setUpdate(!update)\n    })\n\n    useEffect(() => { // effect for handling users with an \"_id\" queryparam, this is for renewing past servers\n\n        // check if user is logged in\n        if (store.getState().user === \"default\" && store.getState().querySelectors?._id) { history.push(\"/\"); window.location.reload() }\n        if (store.getState().querySelectors?._id) return\n        for (let i = 0; i < store.getState().user.past_servers.length; i++) {\n            if (store.getState().querySelectors?._id === store.getState().user.past_servers[i].server_id) return setisCardPressed(store.getState().user.past_servers[i].plan.toLowerCase())\n        }\n    }, [update])\n\n    // ----------- stripe -------------\n\n    const PUBLIC_KEY = \"pk_test_51JCk7wGWd5hOwkfP4Q7UpN498uJW5oa2q7vb97viqghzRSpqilFLqtCB161iX4LOg68mkwqwHaptGyl0rgaB5NSf0080vAPRe9\"\n\n    const stripeLoad = loadStripe(PUBLIC_KEY)\n\n    //---------------------------------\n\n    const landingPageFunc = () => {\n        // element for sold out layout. To use, add this func at the start of the element\n        // also add the className \"serverLandingPageCardSoldOutTemplate\" to the parent element\n\n        // in future make this automatic, add value in db then extract value and based on that\n        // update the parent ele class and insert this func to the element (future work)\n\n        const isSoldOut = (selectedTeir) => {\n            let result = false\n            if (store.getState().availableServerTeirs === null) return null\n            Object.keys(store.getState().availableServerTeirs).forEach((teir) => {\n                if (teir.toUpperCase() === selectedTeir && !store.getState().availableServerTeirs[teir].value) {\n                    result = true\n                }\n            })\n\n            if (result) {\n                //console.log(\"CLASSNAME: \", document.getElementsByClassName(selectedTeir.toLowerCase()))\n                return (\n                    <div className=\"serverLandingPageCardSoldOutDiv\">\n                        <div className=\"serverLandingPageCardSoldOutBlurDivTop\" />\n                        <div className=\"serverLandingPageCardSoldOutMiddleDiv\">\n                            <div className=\"serverLandingPageCardSoldOutMiddleDivInner\">\n                                <span>Sorry,</span>\n                                <span>this server is currently out of stock.</span>\n                            </div>\n                        </div>\n                        <div className=\"serverLandingPageCardSoldOutBlurDivBottom\" />\n                    </div>\n                )\n            }\n            return null\n        }\n\n        console.log(\"PRODUCT INFO: \", store.getState())\n        const element_array = []\n        Object.keys(store.getState().productInfo).forEach(element => {\n            element_array.push(\n                <div className={(isSoldOut(element.toUpperCase()) !== null) ? \"minecraftCards\" + \" \" + element + \" \" + \"serverLandingPageCardSoldOutTemplate\" : \"minecraftCards\" + \" \" + element} onClick={() => setisCardPressed(element)}>\n                    {isSoldOut(element.toUpperCase())}\n                    <div className={\"titleContainer\" + \" \" + `${element.toLowerCase()}TitleContainer`}>\n                        <span>{element.toUpperCase()}</span>\n                    </div>\n                    <div className=\"priceContainer\">\n                        <span>€{store.getState().productInfo[element].price} <span className=\"priceMonth\">/ month</span></span>\n                    </div>\n                    <div className=\"specsContainer\">\n                        <span className=\"cpuSpec\">CPU</span>\n                        <span className=\"memSpec\">MEMORY</span>\n                        <span className=\"cpuSpecValue\">{store.getState().productInfo[element].cpu} cores</span>\n                        <span className=\"memSpecValue\">{store.getState().productInfo[element].mem}gb</span>\n                    </div>\n                    <div className=\"seperationline\" />\n                    <div className=\"description\"> {/* NEED TO CHANGE THIS TO THE BD AND EXTRACT DATA FROM THERE*/}\n                        <span>The basic server is the perfect option for a small group of friends, works great for 3 players</span>\n                    </div>\n                </div>\n            )\n        })\n        return element_array\n    }\n\n    if (isCardPressed !== \"not pressed\") {\n        switch (isCardPressed) {\n            case \"test\":\n                return (\n                    <Elements stripe={stripeLoad}>\n                        <MinecraftLevels level=\"test\" />\n                    </Elements>\n                )\n            case \"basic\":\n                return (\n                    <Elements stripe={stripeLoad}>\n                        <MinecraftLevels level=\"basic\" />\n                    </Elements>)\n            case \"normal\":\n                return (\n                    <Elements stripe={stripeLoad}>\n                        <MinecraftLevels level=\"normal\" />\n                    </Elements>)\n            case \"premium\":\n                return (\n                    <Elements stripe={stripeLoad}>\n                        <MinecraftLevels level=\"premium\" />\n                    </Elements>)\n            default:\n                //window.location.reload();\n                break;\n        }\n    } else {\n        return (\n            <div className=\"minecraftBody\">\n                <span>Choose your Minecraft Server!</span>\n                <div className=\"container\">\n                    {landingPageFunc()}\n                </div>\n            </div>\n        )\n    }\n\n};\n\nexport default MinecraftCreate;\n"]},"metadata":{},"sourceType":"module"}