{"ast":null,"code":"var _jsxFileName = \"/home/main-pc/programing/react/client/src/pages/signup.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { store } from \"../index\";\nimport { signup } from \"../redux/actions/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignupPage = () => {\n  _s();\n\n  const history = useHistory();\n  const [toggle, setToggle] = useState(false);\n  const [noMail, setNoMail] = useState(false);\n  const [user, setUser] = useState({\n    email: \"loading\"\n  });\n  useEffect(() => {\n    if (store.getState().auth) {\n      history.push(\"/user/home\");\n      window.location.reload();\n    }\n\n    if (store.getState().user != \"This user doesn't exist\") {\n      setUser(store.getState().user);\n      setToggle(true);\n    }\n  }, []);\n\n  const postReq = e => {\n    e.preventDefault();\n    setToggle(!toggle);\n    signup(e.target.name.value, e.target.email.value, e.target.password.value, store.dispatch);\n  };\n\n  const toLogin = () => {\n    history.push(\"/user/login\");\n    window.location.reload();\n  };\n\n  const changeMailToggle = () => {\n    setNoMail(true);\n  };\n\n  const confirmationMail = () => {\n    axios.post(\"/user/resendconfirmation\");\n  };\n\n  const inputPage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signupMainBody\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SignupBody\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signUpContainerHeader\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"SIGN UP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: postReq,\n          className: \"loginCenterInnerContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signupForm signupFormName\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              className: \"loginInput\",\n              autoComplete: \"off\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"loginLable\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"loginLableValue\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signupForm signupFormEmail\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              className: \"loginInput\",\n              autoComplete: \"off\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"loginLable\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"loginLableValue\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signupForm signupFormPassword\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              className: \"loginInput\",\n              autoComplete: \"off\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"loginLable\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"loginLableValue\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"signupForm signupButton\",\n            children: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: toLogin,\n            children: \"Already signed up?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  };\n\n  const messagePage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signupMainBody\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SignupBody\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messageBody\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Follow the link sent to \", user.email, \" to verify you account!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"noMailLine\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), noMail ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"noMail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Make sure to check the spam folder!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Still can't find it? Just send another one!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: confirmationMail,\n              children: [\"Send another mail to \", user.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: changeMailToggle,\n              children: \"Can't find the email?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  };\n\n  switch (toggle) {\n    case true:\n      return messagePage();\n\n    default:\n      return inputPage();\n  }\n};\n\n_s(SignupPage, \"5C/JM9kEZihoKuL3WZgZnb8DPb0=\", false, function () {\n  return [useHistory];\n});\n\n_c = SignupPage;\nexport default SignupPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignupPage\");","map":{"version":3,"sources":["/home/main-pc/programing/react/client/src/pages/signup.jsx"],"names":["axios","React","useEffect","useState","useHistory","store","signup","SignupPage","history","toggle","setToggle","noMail","setNoMail","user","setUser","email","getState","auth","push","window","location","reload","postReq","e","preventDefault","target","name","value","password","dispatch","toLogin","changeMailToggle","confirmationMail","post","inputPage","messagePage"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { store } from \"../index\"\nimport { signup } from \"../redux/actions/index\"\n\nconst SignupPage = () => {\n\n  const history = useHistory();\n\n  const [toggle, setToggle] = useState(false)\n  const [noMail, setNoMail] = useState(false)\n  const [user, setUser] = useState({ email: \"loading\" })\n\n  useEffect(() => {\n    if (store.getState().auth) {\n      history.push(\"/user/home\");\n      window.location.reload();\n    }\n    if (store.getState().user != \"This user doesn't exist\") {\n      setUser(store.getState().user)\n      setToggle(true)\n    }\n  }, [])\n\n  const postReq = (e) => {\n    e.preventDefault();\n    setToggle(!toggle)\n    signup(e.target.name.value, e.target.email.value, e.target.password.value, store.dispatch)\n  };\n\n  const toLogin = () => {\n    history.push(\"/user/login\");\n    window.location.reload();\n  }\n\n  const changeMailToggle = () => {\n    setNoMail(true)\n  }\n\n  const confirmationMail = () => {\n    axios.post(\"/user/resendconfirmation\")\n  }\n\n  const inputPage = () => {\n    return (\n      <div className=\"signupMainBody\">\n        <div className=\"SignupBody\">\n          <div className=\"signUpContainerHeader\">\n            <span>SIGN UP</span>\n          </div>\n          <form onSubmit={postReq} className=\"loginCenterInnerContainer\">\n            <div className=\"signupForm signupFormName\">\n              <input\n                type=\"text\"\n                name=\"name\"\n                className=\"loginInput\"\n                autoComplete=\"off\"\n                required\n              />\n              <label className=\"loginLable\">\n                <span className=\"loginLableValue\">Name</span>\n              </label>\n            </div>\n            <div className=\"signupForm signupFormEmail\">\n              <input\n                type=\"text\"\n                name=\"email\"\n                className=\"loginInput\"\n                autoComplete=\"off\"\n                required\n              />\n              <label className=\"loginLable\">\n                <span className=\"loginLableValue\">Email</span>\n              </label>\n            </div>\n            <div className=\"signupForm signupFormPassword\">\n              <input\n                type=\"password\"\n                name=\"password\"\n                className=\"loginInput\"\n                autoComplete=\"off\"\n                required\n              />\n              <label className=\"loginLable\">\n                <span className=\"loginLableValue\">Password</span>\n              </label>\n            </div>\n            <button type=\"submit\" className=\"signupForm signupButton\">\n              submit\n            </button>\n            <span onClick={toLogin}>Already signed up?</span>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  const messagePage = () => {\n    return (\n      <div className=\"signupMainBody\">\n        <div className=\"SignupBody\">\n          <div className=\"messageBody\">\n            <span>Follow the link sent to {user.email} to verify you account!</span>\n            <div className=\"noMailLine\" />\n            {noMail ?\n              <div className=\"noMail\">\n                <span>Make sure to check the spam folder!</span>\n                <span>Still can't find it? Just send another one!</span>\n                <button onClick={confirmationMail}>Send another mail to {user.email}</button>\n              </div>\n              :\n              <div>\n                <span onClick={changeMailToggle}>Can't find the email?</span>\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  switch (toggle) {\n    case true:\n      return messagePage();\n    default:\n      return inputPage();\n  }\n\n};\n\nexport default SignupPage;\n"]},"metadata":{},"sourceType":"module"}