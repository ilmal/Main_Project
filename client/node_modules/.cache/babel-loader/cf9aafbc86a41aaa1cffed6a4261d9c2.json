{"ast":null,"code":"import axios from \"axios\";\nexport const fetchUserData = async (dispatch, getState) => {\n  const cookieValue = document.cookie.split('; ').find(row => row.startsWith('userID=')).split('=')[1];\n  console.log(cookieValue);\n  await axios.post(\"http://192.168.1.247:3001/api/user\", {\n    id: cookieValue,\n    headers: {//\"customHeader\": \"test\"\n    }\n  }).then(res => {\n    console.log(\"data: \", res);\n    dispatch({\n      type: \"FETCH_USER_SUCCESS\",\n      payload: res.data\n    });\n  });\n};\nexport const checkUserAuth = async dispatch => {\n  const cookieValue = document.cookie.split('; ').find(row => row.startsWith('loginAuth=')).split('=')[1];\n  await axios.get(\"http://192.168.1.247:3001/api/user/auth\", {\n    withCredentials: true,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      \"Authorization\": cookieValue\n    }\n  }).then(response => {\n    dispatch({\n      type: \"AUTH_SUCCESS\",\n      payload: response.data.auth\n    });\n  });\n};\nexport const authSucess = dispatch => {\n  dispatch({\n    type: \"AUTH_SUCCESS\"\n  });\n};","map":{"version":3,"sources":["/home/main-pc/programing/react/client/src/redux/actions/index.jsx"],"names":["axios","fetchUserData","dispatch","getState","cookieValue","document","cookie","split","find","row","startsWith","console","log","post","id","headers","then","res","type","payload","data","checkUserAuth","get","withCredentials","response","auth","authSucess"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,aAAa,GAAG,OAAMC,QAAN,EAAgBC,QAAhB,KAA2B;AACpD,QAAMC,WAAW,GAAGC,QAAQ,CAACC,MAAT,CACnBC,KADmB,CACb,IADa,EAEnBC,IAFmB,CAEdC,GAAG,IAAIA,GAAG,CAACC,UAAJ,CAAe,SAAf,CAFO,EAGnBH,KAHmB,CAGb,GAHa,EAGR,CAHQ,CAApB;AAKAI,EAAAA,OAAO,CAACC,GAAR,CAAYR,WAAZ;AAEA,QAAMJ,KAAK,CAACa,IAAN,CAAW,oCAAX,EAAiD;AACnDC,IAAAA,EAAE,EAAEV,WAD+C;AAEnDW,IAAAA,OAAO,EAAE,CACL;AADK;AAF0C,GAAjD,EAMLC,IANK,CAMAC,GAAG,IAAE;AACPN,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBK,GAAtB;AACAf,IAAAA,QAAQ,CAAC;AACLgB,MAAAA,IAAI,EAAE,oBADD;AAELC,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,KAAD,CAAR;AAIH,GAZK,CAAN;AAaH,CArBM;AAuBP,OAAO,MAAMC,aAAa,GAAG,MAAMnB,QAAN,IAAiB;AAC1C,QAAME,WAAW,GAAGC,QAAQ,CAACC,MAAT,CACnBC,KADmB,CACb,IADa,EAEnBC,IAFmB,CAEdC,GAAG,IAAIA,GAAG,CAACC,UAAJ,CAAe,YAAf,CAFO,EAGnBH,KAHmB,CAGb,GAHa,EAGR,CAHQ,CAApB;AAKA,QAAMP,KAAK,CAACsB,GAAN,CAAU,yCAAV,EAAqD;AACvDC,IAAAA,eAAe,EAAE,IADsC;AAEvDR,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB,kBAFX;AAGL,uBAAiBX;AAHZ;AAF8C,GAArD,EAQLY,IARK,CAQAQ,QAAQ,IAAE;AACZtB,IAAAA,QAAQ,CAAC;AACLgB,MAAAA,IAAI,EAAE,cADD;AAELC,MAAAA,OAAO,EAAEK,QAAQ,CAACJ,IAAT,CAAcK;AAFlB,KAAD,CAAR;AAIH,GAbK,CAAN;AAcH,CApBM;AAsBP,OAAO,MAAMC,UAAU,GAAIxB,QAAD,IAAY;AAClCA,EAAAA,QAAQ,CAAC;AACLgB,IAAAA,IAAI,EAAE;AADD,GAAD,CAAR;AAGH,CAJM","sourcesContent":["import axios from \"axios\"\n\nexport const fetchUserData = async(dispatch, getState)=>{\n    const cookieValue = document.cookie\n    .split('; ')\n    .find(row => row.startsWith('userID='))\n    .split('=')[1];\n\n    console.log(cookieValue)\n\n    await axios.post(\"http://192.168.1.247:3001/api/user\", {\n        id: cookieValue,\n        headers: {\n            //\"customHeader\": \"test\"\n        }\n    })\n    .then(res=>{\n        console.log(\"data: \", res)\n        dispatch({\n            type: \"FETCH_USER_SUCCESS\",\n            payload: res.data\n        })\n    })\n}\n\nexport const checkUserAuth = async(dispatch)=>{\n    const cookieValue = document.cookie\n    .split('; ')\n    .find(row => row.startsWith('loginAuth='))\n    .split('=')[1];\n\n    await axios.get(\"http://192.168.1.247:3001/api/user/auth\", { \n        withCredentials: true,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            \"Authorization\": cookieValue\n        }\n    })\n    .then(response=>{\n        dispatch({\n            type: \"AUTH_SUCCESS\",\n            payload: response.data.auth\n        })\n    })\n}\n\nexport const authSucess = (dispatch)=>{\n    dispatch({\n        type: \"AUTH_SUCCESS\"\n    })\n}"]},"metadata":{},"sourceType":"module"}