{"ast":null,"code":"import _regeneratorRuntime from\"/home/main-pc/programing/react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/main-pc/programing/react/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{useSelector}from\"react-redux\";export var fetchUserData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var state,cookieValue;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:state=useSelector(function(state){return state;});cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}if(!(state.auth!=null)){_context.next=6;break;}_context.next=6;return axios.post(\"http://192.168.1.247:3001/api/user\",{id:cookieValue}).then(function(res){dispatch({type:\"FETCH_USER_SUCCESS\",payload:res.data});});case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchUserData(_x,_x2){return _ref.apply(this,arguments);};}();export var checkUserAuth=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var cookieValue;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}_context2.next=4;return axios.get(\"http://192.168.1.247:3001/api/user/auth\",{withCredentials:true,headers:{'Accept':'application/json','Content-Type':'application/json',\"Authorization\":cookieValue}}).then(function(response){dispatch({type:\"AUTH_SUCCESS\",payload:response.data.auth});});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function checkUserAuth(_x3){return _ref2.apply(this,arguments);};}();export var authSucess=function authSucess(dispatch){dispatch({type:\"AUTH_SUCCESS\"});};export var createMcConfig=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var cookieValue;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}_context3.next=4;return axios.post(\"http://192.168.1.247:3001/api/mcConf/create\",{id:cookieValue}).then(function(res){dispatch({type:\"DUMP\"});});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function createMcConfig(_x4){return _ref3.apply(this,arguments);};}();export var startServer=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var cookieValue;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}_context4.next=4;return axios.post(\"http://192.168.1.247:3001/api/server\",{id:cookieValue,action:\"start\"}).then(function(res){dispatch({type:\"DUMP\"});});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function startServer(_x5){return _ref4.apply(this,arguments);};}();export var stopServer=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var cookieValue;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}_context5.next=4;return axios.post(\"http://192.168.1.247:3001/api/server\",{id:cookieValue,action:\"stop\"}).then(function(res){dispatch({type:\"DUMP\"});});case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function stopServer(_x6){return _ref5.apply(this,arguments);};}();export var serverPodsInfo=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var cookieValue;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}_context6.next=4;return axios.post(\"http://192.168.1.247:3001/api/k8s/pods\",{id:cookieValue}).then(function(res){console.log(res);dispatch({type:\"SERVER_PODS_DATA\",payload:res.data});});case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function serverPodsInfo(_x7){return _ref6.apply(this,arguments);};}();export var serverSVCInfo=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var cookieValue;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}_context7.next=4;return axios.post(\"http://192.168.1.247:3001/api/k8s/svc\",{id:cookieValue}).then(function(res){dispatch({type:\"SERVER_SVC_DATA\",payload:res.data});});case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function serverSVCInfo(_x8){return _ref7.apply(this,arguments);};}();export var mcConfGetData=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var cookieValue;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:cookieValue=null;if(document.cookie){cookieValue=document.cookie.split('; ').find(function(row){return row.startsWith('userID=');}).split('=')[1];}_context8.next=4;return axios.post(\"http://192.168.1.247:3001/api/mcConf/getData\",{id:cookieValue}).then(function(res){dispatch({type:\"MC_CONF_GET_DATA\",payload:res.data});});case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function mcConfGetData(_x9){return _ref8.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/main-pc/programing/react/client/src/redux/actions/index.jsx"],"names":["axios","useSelector","fetchUserData","dispatch","getState","state","cookieValue","document","cookie","split","find","row","startsWith","auth","post","id","then","res","type","payload","data","checkUserAuth","get","withCredentials","headers","response","authSucess","createMcConfig","startServer","action","stopServer","serverPodsInfo","console","log","serverSVCInfo","mcConfGetData"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { useSelector } from \"react-redux\"\n\nexport const fetchUserData = async (dispatch, getState) => {\n    const state = useSelector(state => state)\n\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    if (state.auth != null) {\n        await axios.post(\"http://192.168.1.247:3001/api/user\", {\n            id: cookieValue,\n        })\n            .then(res => {\n                dispatch({\n                    type: \"FETCH_USER_SUCCESS\",\n                    payload: res.data\n                })\n            })\n    }\n}\n\nexport const checkUserAuth = async (dispatch) => {\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    await axios.get(\"http://192.168.1.247:3001/api/user/auth\", {\n        withCredentials: true,\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            \"Authorization\": cookieValue\n        }\n    })\n        .then(response => {\n            dispatch({\n                type: \"AUTH_SUCCESS\",\n                payload: response.data.auth\n            })\n        })\n}\n\nexport const authSucess = (dispatch) => {\n    dispatch({\n        type: \"AUTH_SUCCESS\"\n    })\n}\n\nexport const createMcConfig = async (dispatch) => {\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    await axios.post(\"http://192.168.1.247:3001/api/mcConf/create\", {\n        id: cookieValue\n    })\n        .then(res => {\n            dispatch({\n                type: \"DUMP\"\n            })\n        })\n}\n\nexport const startServer = async (dispatch) => {\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    await axios.post(\"http://192.168.1.247:3001/api/server\", {\n        id: cookieValue,\n        action: \"start\"\n    })\n        .then(res => {\n            dispatch({\n                type: \"DUMP\"\n            })\n        })\n}\n\nexport const stopServer = async (dispatch) => {\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    await axios.post(\"http://192.168.1.247:3001/api/server\", {\n        id: cookieValue,\n        action: \"stop\"\n    })\n        .then(res => {\n            dispatch({\n                type: \"DUMP\"\n            })\n        })\n}\n\nexport const serverPodsInfo = async (dispatch) => {\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    await axios.post(\"http://192.168.1.247:3001/api/k8s/pods\", {\n        id: cookieValue\n    })\n        .then(res => {\n            console.log(res)\n            dispatch({\n                type: \"SERVER_PODS_DATA\",\n                payload: res.data\n            })\n        })\n}\n\nexport const serverSVCInfo = async (dispatch) => {\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    await axios.post(\"http://192.168.1.247:3001/api/k8s/svc\", {\n        id: cookieValue\n    })\n        .then(res => {\n            dispatch({\n                type: \"SERVER_SVC_DATA\",\n                payload: res.data\n            })\n        })\n}\n\nexport const mcConfGetData = async (dispatch) => {\n    let cookieValue = null\n    if (document.cookie) {\n        cookieValue = document.cookie\n            .split('; ')\n            .find(row => row.startsWith('userID='))\n            .split('=')[1];\n    }\n\n    await axios.post(\"http://192.168.1.247:3001/api/mcConf/getData\", {\n        id: cookieValue\n    })\n        .then(res => {\n            dispatch({\n                type: \"MC_CONF_GET_DATA\",\n                payload: res.data\n            })\n        })\n}"]},"metadata":{},"sourceType":"module"}